<div id="content">
  <!-- widget grid -->
  <sa-widgets-grid>
    <div id="inicialPassoaPasso" *ngIf="isPaginaInicial" class="pt-4">
      <div class="col-sm-12 col-md-12 col-lg-12">
        <div class="jumbotron background-inicial jumbotrom-custom-plan">
          <div class="container">
            <h1
              style="color: white; font-weight: 500; font-size: 45px"
              class="py-3 pl-5"
            >
              Cálculo Passo a Passo
            </h1>
            <p
              style="color: white; font-weight: 500; text-align: justify"
              class="py-4 px-5"
            >
              Axiliar o usuário a seguir uma linha de raciocinio lógica e breve
              para executar as simulações de concessão de benefícios do RGPS.
            </p>
            <div
              class="row pt-5"
              style="position: absolute; bottom: 50px; left: 62%"
            >
              <div class="col-md-3 col-lg-3 col-md-offset-9">
                <button
                  type="button"
                  (click)="setIsPaginaInicial()"
                  class="btn btn-lg btn-block btn-ieprev"
                  style="font-weight: bolder; width: 200px"
                >
                  Iniciar
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="passoPlanejamento" class="well mt-5" *ngIf="!isPaginaInicial">
      <div class="row mt-5">
        <div class="col-sm-12 col-md-12 col-lg-12">
          <form novalidate="novalidate">
            <div class="col-sm-12">
              <div class="form-bootstrapWizard clearfix">
                <ul class="bootstrapWizard">
                  <li
                    *ngFor="let pane of steps; let i = index"
                    [class.active]="activeStep == pane"
                  >
                    <a (click)="setActiveStep(pane)">
                      <span class="step">
                        <span *ngIf="!pane.checked">{{ i + 1 }}</span>
                        <i class="fa fa-check" *ngIf="pane.checked"></i>
                      </span>
                      <span class="title">{{ pane.title }}</span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="tab-content" style="margin-top: 5rem">
                <div
                  class="tab-pane"
                  [class.active]="activeStep.key == 'step1'"
                >
                  <div class="row mt-5">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                      <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                        <ul class="bootstrapWizard form-wizard mt-3">
                          <li class="active" data-target="#step1">
                            <a data-toggle="tab">
                              <span class="step">1</span></a
                            >
                          </li>
                        </ul>
                      </div>
                      <div class="col-xs-11 col-sm-11 col-md-11 col-lg-11">
                        <ul class="text-justify pt-1" style="font-size: 14px">
                          <li>
                            Selecione uma opção para proseguir com a entrada de
                            informações.
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>

                  <div class="row mt-4 body-step-component">
                    <div
                      class="col-xs-12 col-sm-12 col-md-12 col-lg-12"
                      style="margin-top: 10rem"
                    >
                      <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                            <div
                              class="well well-sm txt-color-white text-center"
                              (click)="setOptionEntradaDados($event, 'manual')"
                              [ngClass]="
                                dadosPassoaPasso.type === 'manual'
                                  ? 'bg-color-blue'
                                  : 'bg-color-darken'
                              "
                            >
                              <h5>Selecione para inserir dados manualmente</h5>
                              <!-- <code> .bg-color-darken</code> -->
                            </div>
                          </div>

                          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                            <div
                              class="well well-sm txt-color-white text-center"
                              (click)="setOptionEntradaDados($event, 'cnis')"
                              [ngClass]="
                                dadosPassoaPasso.type === 'cnis'
                                  ? 'bg-color-blue'
                                  : 'bg-color-darken'
                              "
                            >
                              <h5>
                                Selecione para inserir dados a partir do CNIS
                              </h5>
                              <!-- <code> .bg-color-darken</code> -->
                            </div>
                          </div>
                          <div
                            class="
                              col-xs-6
                              col-sm-6
                              col-md-6
                              col-lg-6
                              col-md-offset-3
                            "
                          >
                            <div
                              class="well well-sm txt-color-white text-center"
                              (click)="
                                setOptionEntradaDados(
                                  $event,
                                  'seguradoExistente'
                                )
                              "
                              [ngClass]="
                                dadosPassoaPasso.type === 'seguradoExistente'
                                  ? 'bg-color-blue'
                                  : 'bg-color-darken'
                              "
                            >
                              <h5>Selecione um segurado existente</h5>
                              <!-- <code> .bg-color-darken</code> -->
                            </div>
                          </div>
                          <div
                            *ngIf="
                              dadosPassoaPasso.type === 'seguradoExistente'
                            "
                          >
                            <div
                              class="col-xs-12 col-sm-12 col-md-12 col-lg-12"
                            >
                              <app-importador-cnis-segurados-list
                                (seguradoSelecionadoEvent)="
                                  setSeguradoSelecionado($event)
                                "
                              ></app-importador-cnis-segurados-list>
                            </div>
                            <div
                              *ngIf="isSeguradoSelecionado"
                              class="col-xs-12 col-sm-12 col-md-12 col-lg-12"
                            >
                              <app-importador-cnis-calculos-list
                                [seguradoSelecionado]="seguradoSelecionado"
                                (calculoSelecionadoEvent)="
                                  setCalculoSelecionado($event)
                                "
                              >
                              </app-importador-cnis-calculos-list>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  class="tab-pane"
                  [class.active]="activeStep.key == 'step2'"
                >
                  <div class="row mt-4">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                      <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 pt-4">
                        <ul class="bootstrapWizard form-wizard mt-3">
                          <li class="active" data-target="#step2">
                            <a data-toggle="tab">
                              <span class="step">2</span></a
                            >
                          </li>
                        </ul>
                      </div>
                      <div class="col-xs-11 col-sm-11 col-md-11 col-lg-11">
                        <ul class="text-justify" style="font-size: 14px">
                          <li *ngIf="dadosPassoaPasso.type === 'manual'">
                            Informe os campos abaixo para realizar a contagem de
                            tempo de contribuição.
                          </li>
                          <li *ngIf="dadosPassoaPasso.type === 'cnis'">
                            Adicione um arquivo CNIS obtido no INSS digital para
                            que as informações sejam adicionadas, não se
                            preocupe ao final do processo você poderá editar
                            estas informações.
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>

                  <div class="row body-step-component">
                    <div
                      *ngIf="
                        activeStep.key == 'step2' &&
                        (dadosPassoaPasso.type === 'cnis' ||
                          dadosPassoaPasso.type === 'manual' ||
                          dadosPassoaPasso.type === 'seguradoExistente') &&
                        isTypeEntradaDados
                      "
                    >
                      <app-importador-cnis
                        [dadosPassoaPasso]="dadosPassoaPasso"
                      ></app-importador-cnis>
                    </div>
                  </div>
                </div>
                <div
                  class="tab-pane"
                  [class.active]="activeStep.key == 'step3'"
                >
                  <div class="row mt-5">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                      <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                        <ul class="bootstrapWizard form-wizard mt-3">
                          <li class="active" data-target="#step3">
                            <a data-toggle="tab">
                              <span class="step">3</span></a
                            >
                          </li>
                        </ul>
                      </div>
                      <div class="col-xs-11 col-sm-11 col-md-11 col-lg-11">
                        <ul class="text-justify pt-1" style="font-size: 14px">
                          <li>
                            Selecione um benefício futuro cadastrado para
                            prosseguir com o Planejamento Previdenciário;
                          </li>
                          <li>
                            Caso não tenha benefício futuro cadastrado, insira
                            as informações no formulário para criar novo
                            benefício futuro.
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="row pt-4 body-step-component">
                    <!-- <app-rgps-planejamento-list
                      *ngIf="!isUpdatingPlan"
                      [calculo]="calculoSelecionado"
                      [segurado]="seguradoSelecionado"
                      [isCalculoSelecionado]="isCalculoSelecionado"
                      (planejamentoSelecionadoEvent)="
                        setPlanejamentoSelecionado($event)
                      "
                    ></app-rgps-planejamento-list> -->
                  </div>
                </div>
                <div
                  class="tab-pane"
                  [class.active]="activeStep.key == 'step4'"
                >
                  <div class="row my-5">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                      <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                        <ul class="bootstrapWizard form-wizard mt-3">
                          <li class="active" data-target="#step4">
                            <a data-toggle="tab">
                              <span class="step">4</span></a
                            >
                          </li>
                        </ul>
                      </div>
                      <div class="col-xs-11 col-sm-11 col-md-11 col-lg-11">
                        <ul
                          class="list-unstyled text-justify"
                          style="font-size: 14px"
                        >
                          <li>
                            O Simulador realizará o cálculo da renda mensal
                            inicial do benefício futuro, com a inclusão dos
                            salários de contribuição informados no Passo 3;
                          </li>
                          <li>
                            Clique em Abrir para acessar o cálculo ou em
                            Imprimir, onde poderá salvar o cálculo, inclusive;
                          </li>
                          <li>
                            Clique em continuar para acessar o relatório com as
                            informações do Planejamento Previdenciário.
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>

                  <div
                    class="body-step-component my-4"
                    *ngIf="activeStep.key == 'step4'"
                  >
                    <!-- <app-rgps-planejamento-calculo-futuro
                      *ngIf="isPlanejamentoSelecionado"
                      [calculo]="calculoSelecionado"
                      [segurado]="seguradoSelecionado"
                      [planejamento]="planejamentoSelecionado"
                      [isPlanejamentoSelecionado]="isPlanejamentoSelecionado"
                    >
                    </app-rgps-planejamento-calculo-futuro> -->
                  </div>
                  <br />
                  <br />
                </div>

                <div
                  id="tutorial-plan"
                  class="modal fade"
                  tabindex="-1"
                  role="dialog"
                  aria-labelledby="tutorial-plan-title"
                  aria-hidden="true"
                >
                  <div class="modal-dialog modal-dialog-custom" role="document">
                    <div class="modal-content modal-lg">
                      <div class="embed-responsive embed-responsive-16by9">
                        <iframe
                          src="https://player.vimeo.com/video/499277891?color=ffffff"
                          class="embed-responsive-item"
                          frameborder="0"
                          allow="autoplay; fullscreen"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="form-actions mt-0">
                  <div class="row">
                    <div class="col-sm-12">
                      <ul class="pager wizard no-margin">
                        <li class="previous">
                          <a
                            (click)="prevStep()"
                            [class.disabled]="steps.indexOf(activeStep) == 0"
                            class="btn btn-lg btn-default"
                            title="Retornar ao passo anterior"
                            >Retornar&nbsp;</a
                          >
                        </li>
                        <li class="pull-center">
                          <a
                            data-toggle="modal"
                            data-target="#tutorial-plan"
                            class="
                              btn btn-lg
                              txt-color-white
                              btn-danger
                              bg-ieprev-red
                            "
                            title="Tutorial Planejamento Previdenciário"
                            >Tutorial</a
                          >
                        </li>
                        <li class="next">
                          <a
                            (click)="nextStep()"
                            [class.disabled]="!activeStep.valid"
                            class="btn btn-lg txt-color-darken"
                            title="Continuar para próximo passo"
                            >Continuar</a
                          >
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </sa-widgets-grid>
</div>
