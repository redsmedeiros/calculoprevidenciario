<div id="content">

  <!-- widget grid -->
  <sa-widgets-grid>

    <!-- row -->
    <div class="row" *ngIf="!isUpdating">
      <article class="col-sm-12 col-md-12 col-lg-12">
        <h1 *ngIf="!isTetos">Resultado do Cálculo de Atrasados</h1>
        <h1 *ngIf="isTetos">Resultado do Cálculo de Atrasados - Tetos Judiciais</h1>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="#/beneficios/beneficios-segurados"> Criar/Buscar Segurado</a></li>
          <li class="breadcrumb-item"><a href="#/beneficios/beneficios-calculos/{{seguradoId}}"> Lista de Cálculos</a></li>
          <li class="breadcrumb-item"><a href="#/beneficios/beneficios-calculos/{{calculoType}}/{{seguradoId}}/{{calculoId}}/edit"> Informações para o cálculo</a></li>
          <li class="breadcrumb-item active">Resultados</li>
        </ol>
                <sa-widget [colorbutton]="false" [editbutton]="false" [editbutton]="false"
              [togglebutton]="false"
              [deletebutton]="false"
              [fullscreenbutton]="false"
              [sortable]="false">
          <header>
            <span class="widget-icon">
              <i class="fa fa-edit"></i>
            </span>
            <h2>Dados do segurado</h2>
          </header>

          <div>
            <div class="widget-body">

              <ul class="list-unstyled">
                <li><b>Nome:</b>  {{segurado.nome}} </li>
                <li *ngIf="segurado.id_documento==1"><b>PIS:</b>   {{segurado.numero_documento}}</li>
                <li *ngIf="segurado.id_documento==2"><b>PASEP:</b>   {{segurado.numero_documento}}</li>
                <li *ngIf="segurado.id_documento==3"><b>CPF:</b>   {{segurado.numero_documento}}</li>
                <li *ngIf="segurado.id_documento==4"><b>NIT:</b>   {{segurado.numero_documento}}</li>
                <li *ngIf="segurado.id_documento==5"><b>RG:</b>   {{segurado.numero_documento}}</li>
                <li><b>Data de nascimento:</b>  {{segurado.data_nascimento}}</li>
                <li *ngIf="segurado.sexo=='m'"><b>Sexo:</b>  Masculino</li>
                <li *ngIf="segurado.sexo=='f'"><b>Sexo:</b>  Feminino</li>
              </ul>
              <div class="form-actions">
                <div class="row">
                  <div class="col-md-12">

                    <button type="submit" (click)="editSegurado()" class="btn btn-labeled btn-info pull-left">
                      <span class="btn-label">
                        <i class="fa fa-pencil-square-o"></i>
                      </span> Editar
                    </button>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </sa-widget>
      </article>




      <article class="col-sm-12 col-md-12 col-lg-12">
        <sa-widget [colorbutton]="false"
              [editbutton]="false"
              [togglebutton]="false"
              [deletebutton]="false"
              [fullscreenbutton]="false"
              [custombutton]="false">
          <header>
            <span class="widget-icon">
              <i class="fa fa-edit"></i>
            </span>
            <h2>Dados do cálculo</h2>

          </header>

          <!-- widget div-->
          <div>

            <!-- widget content -->
            <div class="widget-body" >

              <ul class="list-unstyled">
                <li>
                  <b>Data do cálculo:</b> {{formatDate(calculo.data_calculo_pedido)}}</li>
                <li>
                  <b>Data da citação do requerido:</b> {{formatDate(calculo.data_citacao_reu)}}</li>
                <li>
                  <b>Data da distribuição da ação:</b> {{formatDate(calculo.data_acao_judicial)}}</li>
                <li>
                  <b>Tabela Correção Monetária {{stringTabelaCorrecaoMonetaria}}:</b> {{formatDate(calculo.data_calculo_pedido).substring(3, 10)}}</li>
              </ul>
            </div>
          </div>
        </sa-widget>
      </article>




      <article class="col-sm-12 col-md-12 col-lg-12">
        <sa-widget [colorbutton]="false"
              [editbutton]="false"
              [togglebutton]="false"
              [deletebutton]="false"
              [fullscreenbutton]="false"
              [custombutton]="false">
          <header>
            <span class="widget-icon">
              <i class="fa fa-edit"></i>
            </span>
            <h2>Valores Devidos</h2>

          </header>

          <!-- widget div-->
          <div>

            <!-- widget content -->
            <div class="widget-body">

              <ul class="list-unstyled">
                <li>
                  <b>Espécie dos valores devidos:</b> {{getTipoAposentadoria(calculo.tipo_aposentadoria)}} </li>
                <li>
                  <b>DIB de valores devidos:</b> {{formatDate(calculo.data_pedido_beneficio_esperado)}}</li>
                <li>
                  <b>DIB anterior de valores devidos:</b> {{formatDate(calculo.previa_data_pedido_beneficio_esperado)}}</li>
                <li>
                  <b>Data de cessação de valores devidos:</b> {{formatDate(calculo.data_prevista_cessacao)}}</li>
                <li>
                  <b>Nova RMI de valores devidos:</b> {{formatRMI(calculo.valor_beneficio_esperado, 'Devidos')}}</li>
              </ul>
            </div>
          </div>
        </sa-widget>
      </article>


      <article class="col-sm-12 col-md-12 col-lg-12">
        <sa-widget [colorbutton]="false"
              [editbutton]="false"
              [togglebutton]="false"
              [deletebutton]="false"
              [fullscreenbutton]="false"
              [custombutton]="false">
          <header>
            <span class="widget-icon">
              <i class="fa fa-edit"></i>
            </span>
            <h2>Valores Recebidos</h2>

          </header>

          <!-- widget div-->
          <div>

            <!-- widget content -->
            <div class="widget-body">

              <ul class="list-unstyled">
                <li>
                  <b>Espécie dos valores recebidos:</b> {{getTipoAposentadoria(calculo.tipo_aposentadoria)}} </li>
                <li>
                  <b>DIB de valores recebidos:</b> {{formatDate(calculo.data_pedido_beneficio)}}</li>
                <li>
                  <b>DIB anterior de valores recebidos:</b> {{formatDate(calculo.previa_data_pedido_beneficio_esperado)}}</li>
                <li>
                  <b>Data de cessação de valores recebidos:</b> {{formatDate(calculo.data_cessacao)}}</li>
                <li>
                  <b>Nova RMI de valores recebidos:</b> {{formatRMI(calculo.valor_beneficio_concedido, 'Recebidos')}}</li>
              </ul>
            </div>
          </div>
        </sa-widget>
      </article>




      <article class="col-sm-12 col-md-12 col-lg-12">
        <sa-widget [colorbutton]="false"
              [editbutton]="false"
              [togglebutton]="false"
              [deletebutton]="false"
              [fullscreenbutton]="false"
              [custombutton]="false">
          <header>
            <span class="widget-icon">
              <i class="fa fa-edit"></i>
            </span>
            <h2>Honorários</h2>

          </header>

          <!-- widget div-->
          <div>

            <!-- widget content -->
            <div class="widget-body" *ngIf="!isUpdating">

              <ul class="list-unstyled">
                <li>
                  <b>Intervalo de Honorários:</b> {{formatDate(calculo.taxa_advogado_inicio)}} a {{formatDatetimeToDate(calculo.taxa_advogado_final)}}</li>
                <li>
                  <b>Percentual dos honorários:</b> {{formatPercent(calculo.percentual_taxa_advogado)}}</li>
                <li>
                  <b>Percentual do Acordo Judicial:</b> {{formatPercent(calculo.acordo_pedido)}}</li>
                <li>
                  <b>Vincendas:</b> {{calculo.maturidade}}</li>
              </ul>
            </div>
          </div>
        </sa-widget>
      </article>



      <article class="col-sm-12 col-md-12 col-lg-12">
        <sa-widget [colorbutton]="false"
              [editbutton]="false"
              [togglebutton]="false"
              [deletebutton]="false"
              [fullscreenbutton]="false"
              [custombutton]="false">
          <header>
            <span class="widget-icon">
              <i class="fa fa-edit"></i>
            </span>
            <h2>Juros</h2>

          </header>

          <!-- widget div-->
          <div>

            <!-- widget content -->
            <div class="widget-body">

              <ul class="list-unstyled">
                <li>
                  <b>Juros anterior a janeiro de 2003:</b> {{calculo.previo_interesse_2003}}%</li>
                <li>
                  <b>Juros posterior a janeiro de 2003:</b> {{calculo.pos_interesse_2003}}%</li>
                <li>
                  <b>Juros posterior a julho de 2009:</b> {{calculo.pos_interesse_2009}}%</li>
              </ul>
            </div>
          </div>
        </sa-widget>
      </article>

       <article class="col-sm-12 col-md-12 col-lg-12" *ngIf="!isUpdating">
        <sa-widget [colorbutton]="false"
              [editbutton]="false"
              [togglebutton]="false"
              [deletebutton]="false"
              [fullscreenbutton]="false"
              [custombutton]="false">
          <header>
            <span class="widget-icon">
              <i class="fa fa-edit"></i>
            </span>
            <h2>Conclusões</h2>
          </header>
          <!-- widget div-->
          <div>
            <!-- widget content -->
            <div class="widget-body">

              <ul class="list-unstyled" *ngIf="!isTetos">
                <li *ngIf="somaHonorarios != 0">
                  <b>Soma dos honorários a receber:</b><span class="{{tratarConclusao(somaHonorarios)}}"> {{formatMoney(somaHonorarios)}}</span></li>
                <li *ngIf="descontoAcordo != 0">
                  <b>Desconto do acordo judicial:</b><span class="{{tratarConclusao(descontoAcordo)}}"> {{formatMoney(descontoAcordo)}}</span></li>
                <li *ngIf="valorAcordo != 0">
                  <b>Soma dos devidos com desconto judicial:</b><span class="{{tratarConclusao(valorAcordo)}}"> {{formatMoney(valorAcordo)}}</span></li>
                <li>
                  <b>Última Renda Mensal Judicialmente:</b><span class="{{tratarConclusao(ultimaRenda)}}"> {{formatMoney(ultimaRenda)}}</span></li>
                <li>
                  <b>Soma Total da Diferença Mensal:</b><span class="{{tratarConclusao(somaDiferencaMensal)}}"> {{formatMoney(somaDiferencaMensal)}}</span></li>
                <li>
                  <b>Soma Total da Correção Monetária:</b><span class="{{tratarConclusao(somaDiferencaCorrigida-somaDiferencaMensal)}}"> {{formatMoney(somaDiferencaCorrigida-somaDiferencaMensal)}}</span></li>
                <li>
                  <b>Soma Total da Diferença Corrigida:</b><span class="{{tratarConclusao(somaDiferencaCorrigida)}}"> {{formatMoney(somaDiferencaCorrigida)}}</span></li>
                <li>
                  <b>Soma Total do Valor dos Juros:</b><span class="{{tratarConclusao(somaJuros)}}"> {{formatMoney(somaJuros)}}</span></li>
                <li>
                  <b>Soma devida Judicialmente:</b><span class="{{tratarConclusao(somaDevidaJudicialmente)}}"> {{formatMoney(somaDevidaJudicialmente)}}</span></li>
                <li>
                  <b>Soma das vincendas:</b><span class="{{tratarConclusao(somaVincendas)}}"> {{formatMoney(somaVincendas)}}</span></li>
                <li>
                  <b>Soma total devida ao segurado:</b><span class="{{tratarConclusao(somaTotalSegurado)}}"> {{formatMoney(somaTotalSegurado)}}</span></li>
              </ul>
              <ul class="list-unstyled" *ngIf="isTetos">
                  <li>
                  <b>Soma das vincendas Tetos:</b><span class="{{tratarConclusao(somaHonorarios)}}"> {{formatMoney(somaVincendas)}}</span></li>
                <li>
                  <b>Última Renda Mensal Judicialmente Tetos:</b><span class="{{tratarConclusao(somaHonorarios)}}"> {{formatMoney(ultimaRenda)}}</span></li>
                <li>
                  <b>Soma devida Judicialmente Tetos:</b><span class="{{tratarConclusao(somaHonorarios)}}"> {{formatMoney(somaDevidaJudicialmente)}}</span></li>
                <li *ngIf="somaHonorarios != 0">
                  <b>Soma dos honorários a receber Tetos:</b><span class="{{tratarConclusao(somaHonorarios)}}"> {{formatMoney(somaHonorarios)}}</span></li>
                <li>
                  <b>Subtotal:</b><span class="{{tratarConclusao(somaHonorarios)}}"> {{formatMoney(somaDiferencaCorrigida)}}</span></li>
                <li *ngIf="descontoAcordo != 0">
                  <b>Desconto do acordo judicial:</b><span class="{{tratarConclusao(somaHonorarios)}}"> {{formatMoney(descontoAcordo)}}</span></li>
                <li>
                  <b>Soma dos devidos com desconto judicial:</b><span class="{{tratarConclusao(somaHonorarios)}}"> {{formatMoney(somaDevidaJudicialmente-valorAcordo)}}</span></li>
                <li>
                  <b>Soma total Tetos:</b><span class="{{tratarConclusao(somaHonorarios)}}"> {{formatMoney(somaVincendas+somaDiferencaCorrigida)}}</span></li>
              </ul>
            </div>
          </div>
        </sa-widget>
      </article>

      <article class="col-sm-12 col-md-12 col-lg-12" *ngIf="!isUpdating">
        <!-- Widget ID (each widget will need unique ID)-->
        <sa-widget [colorbutton]="false"
              [editbutton]="false"
              [togglebutton]="false"
              [deletebutton]="false"
              [fullscreenbutton]="false"
              [custombutton]="false">
          <header>
            <span class="widget-icon">
              <i class="fa fa-gear"></i>
            </span>
            <h2>Opções do Cálculo</h2>
          </header>
          <!-- widget div-->
          <div>
            <!-- widget content -->
            <div class="widget-body" style="min-height: auto;">
              <div class="row">
                <div class="col-md-12">
                  <button *ngIf="considerarPrescricao" type="submit" (click)="calcularSemPrescricao()" class="btn btn-labeled btn-default margin-right-13">
                    <span class="btn-label">
                      <i class="fa fa-gear"></i>
                    </span>Calcular sem prescrição
                  </button>
                  <button *ngIf="!considerarPrescricao" type="submit" (click)="calcularSemPrescricao()" class="btn btn-labeled btn-default margin-right-13">
                      <span class="btn-label">
                      <i class="fa fa-gear"></i>
                    </span>Calcular com prescrição
                  </button>
                  <button (click)="imprimirPagina()" type="submit" class="btn btn-labeled btn-default margin-right-13">
                  <span class="btn-label">
                    <i class="fa fa-print"></i>
                  </span> Imprimir
                </button>
                </div>
              </div>
            </div>
          </div>
        </sa-widget>
      </article>

      <article class="col-sm-12 col-md-12 col-lg-12">
        <!-- Widget ID (each widget will need unique ID)-->
        <sa-widget [colorbutton]="false" [editbutton]="false"  [colorbutton]="false"
              [editbutton]="false"
              [togglebutton]="false"
              [deletebutton]="false"
              [fullscreenbutton]="false"
              [custombutton]="false">
          <header>
            <span class="widget-icon">
              <i class="fa fa-eye"></i>
            </span>
            <h2>Resultados</h2>
          </header>
          <!-- widget div-->
          <div>
            <!-- widget content -->
            <div class="widget-body">
              <sa-datatable [options]="resultadosDatatableOptions"
                paginationLength="true" tableClass="table table-striped table-bordered table-hover" width="100%" *ngIf="!isUpdating">
                <thead *ngIf="!isTetos">
                  <tr>
                    <th>Competência</th>
                    <th>Indice de Reajuste de Valores Devidos</th>
                    <!-- <th>Benefício Devido Tetos</th> -->
                    <th>Benefício Devido</th>
                    <th>Indice de Reajuste de Valores Recebidos</th>
                    <!-- <th>Benefício Recebido Tetos</th> -->
                    <th>Benefício Recebido</th>
                    <!-- <th>Diferença Mensal Tetos</th> -->
                    <th>Diferença Mensal</th>
                    <th>Correção Monetária</th>
                    <th>Diferença Corrigida</th>
                    <!-- <th>Diferença Corrigida Tetos</th> -->
                    <th>Juros</th>
                    <th>Valor dos Juros</th>
                    <!-- <th>Valor dos Juros Tetos</th> -->
                    <th>Diferença Corrigida + Juros</th>
                    <!-- <th>Diferença Corrigida + Juros Tetos</th> -->
                    <th *ngIf="calculo.percentual_taxa_advogado != 0">Honorários</th>
                  </tr>
                </thead>
                <thead *ngIf="isTetos">
                  <tr>
                    <th>Competência</th>
                    <th>Indice de Reajuste de Valores Devidos</th>
                    <th>Benefício Devido Tetos</th>
                    <!-- <th>Benefício Devido</th> -->
                    <th>Indice de Reajuste de Valores Recebidos</th>
                    <th>Benefício Recebido Tetos</th>
                    <!-- <th>Benefício Recebido</th> -->
                    <th>Diferença Mensal Tetos</th>
                    <!-- <th>Diferença Mensal</th> -->
                    <th>Correção Monetária</th>
                    <!-- <th>Diferença Corrigida</th> -->
                    <th>Diferença Corrigida Tetos</th>
                    <th>Juros</th>
                    <!-- <th>Valor dos Juros</th> -->
                    <th>Valor dos Juros Tetos</th>
                    <!-- <th>Diferença Corrigida + Juros</th> -->
                    <th>Diferença Corrigida + Juros Tetos</th>
                    <th *ngIf="calculo.percentual_taxa_advogado != 0">Honorários Tetos</th>
                  </tr>
                </thead>
              </sa-datatable>
              
              <div class="well margin-top-10 margin-bottom-10" *ngIf="!isUpdating">
                <p>
                  <strong>Observações:</strong>
                </p>
                <p>
                  <strong>a) </strong> Cálculos atualizados até {{ultimaCompretencia}};</p>
                <p>
                  <strong>b) </strong> Correção monetária conforme Sistema de Correção Monetária do CJF;</p>
                <p *ngIf="calculo.tipo_correcao == 'ipca'">Indexadores: - ORTN de 10/1964 a 02/1986, OTN (6,17019) de 03/1986 a 01/1989, IPC (IBGE) de 01/1989 a 02/1989, BTN de 03/1989 a 03/1990, IPC (IBGE) de 03/1990 a 02/1991, INPC de 03/1991 a 12/1992, IRSM de 01/1993 a 02/1994, URV (DE 28/02 A 01/04/94) em 03/1994, URV de 04/1994 a 07/1994, IPC-R de 07/1994 a 06/1995, INPC de 07/1995 a 04/1996, IGP-di de 05/1996 a 08/2006, IPCA-e até 26/09/2018;</p>
                <p *ngIf="calculo.tipo_correcao == 'tr'">Indexadores: 
- ORTN de 10/1964 a 02/1986, OTN (6,17019) de 03/1986 a 01/1989, IPC (IBGE) de 01/1989 a 02/1989, BTN de 03/1989 a 03/1990, IPC (IBGE) de 03/1990 a 02/1991, INPC de 03/1991 a 12/1992, IRSM de 01/1993 a 02/1994, URV (DE 28/02 A 01/04/94) em 03/1994, URV de 04/1994 a 07/1994, IPC-R de 07/1994 a 06/1995, INPC de 07/1995 a 04/1996, IGP-di de 05/1996 a 08/2006, TR de 09/2006 a 22/11/2018 ;​</p>
                <p *ngIf="calculo.tipo_correcao == 'cam'">Indexadores: - ORTN de 10/1964 a 02/1986, OTN (6,17019) de 03/1986 a 01/1989, IPC (IBGE) de 01/1989 a 02/1989, BTN de 03/1989 a 03/1990, IPC (IBGE) de 03/1990 a 02/1991, INPC de 03/1991 a 12/1992, IRSM de 01/1993 a 02/1994, URV (DE 28/02 A 01/04/94) em 03/1994, URV de 04/1994 a 07/1994, IPC-R de 07/1994 a 06/1995, INPC de 07/1995 a 04/1996, IGP-di de 05/1996 a 08/2006, INPC de 09/2006 a 08/10/2018;</p>
                <p *ngIf="calculo.tipo_correcao == 'tr032015_ipcae'">Indexadores: 
- ORTN de 10/1964 a 02/1986, OTN (6,17019) de 03/1986 a 01/1989, IPC (IBGE) de 01/1989 a 02/1989, BTN de 03/1989 a 03/1990, IPC (IBGE) de 03/1990 a 02/1991, INPC de 03/1991 a 12/1992, IRSM de 01/1993 a 02/1994, URV (DE 28/02 A 01/04/94) em 03/1994, URV de 04/1994 a 07/1994, IPC-R de 07/1994 a 06/1995, INPC de 07/1995 a 04/1996, IGP-di de 05/1996 a 08/2006, INPC de 09/2006 a 06/2009, TR de 09/2006 a de 07/2009 a 02/2015 IPCA-e até 22/11/2018;</p>
                <p>
                  <strong>c) </strong> Juros de mora:</p>
                <p>- Taxa de {{calculo.previo_interesse_2003}}% até 12/2002 , taxa de {{calculo.pos_interesse_2003}}% de 01/2003 até 06/2009 , taxa de {{calculo.pos_interesse_2009}}% de 07/2009 até 18/08/2017 Quando
                  a sentença determinar a utilização de juros pelo critério da poupança será adotado o conteúdo ditado pela
                  Lei 12703/2012 a partir de 07/2012. </p>

              </div>

              <div class="row">
                <div class="col-sm-4 col-sm-offset-4">
                  <table class="table table-bordered table-hover table-condensed">
                    <thead>
                      <tr>
                        <th colspan="2" class="text-align-center">LEGENDA</th>
                      </tr>
                    </thead>
                    <thead>
                      <tr>
                        <th>Símbolo</th>
                        <th>Descrição</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>*</td>
                        <td><a class="dcontexto">Efeito financeiro da Revisão do Buraco Negro<span>Conforme o art 144 da Lei 8.213/1991 os benefícios concedidos entre 05/10/1988 e 05/04/1991 tiveram suas rendas mensais iniciais revisadas, porém o efeito financeiro desta revisão não abrange o período entre a DIB e 05/1992 e se dá somente a partir de 06/1992.</span></a></td>
                      </tr>
                      <tr>
                        <td>p</td>
                        <td><a class="dcontexto">Benefício Proporcional<span>Valores proporcionais aos dias com base na DIB (data do inicio do benefício) de valores devidos ou recebidos ou ainda na data de cessação de valores devidos ou recebidos . Para apresentação de valores inteiros a DIB de valores devidos e recebidos deve sempre ser o primeiro dia do mês e a data de cessação deve estar zerada ou que seja o ultimo dia do mês de referência.</span></a></td>
                      </tr>
                      <tr>
                        <td>a</td>
                        <td>Abono Proporcional</td>
                      </tr>
                      <tr>
                        <td>(os)</td>
                        <td><a class="dcontexto">Índice de reajuste pela OS 121<span>Os valores dos indices de reajustes entre a DIB de benefícios concedidos entre 05/10/1988 e 05/04/1991 (buraco negro), e 05/1992,  foram alterados por esta OS 121/1992 e a aplicação destes indices sobre a renda mensal inicial revisada teve efeito financeiro a partir de 06/1992, não sendo devidas diferenças para o período entre a DIB e 05/1992.</span></a></td>
                      </tr>
                      <tr>
                        <td>M</td>
                        <td>Limitado ao valor mínimo</td>
                      </tr>
                      <tr>
                        <td>T</td>
                        <td>Limitado ao valor teto</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>


            </div>
          </div>
        </sa-widget>
      </article>




    </div>

    <!-- end row -->

  </sa-widgets-grid>

  <!-- end widget grid -->

</div>